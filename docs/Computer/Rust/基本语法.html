<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rust 入门 - BeisentDocs</title>
  <link rel="stylesheet" href="../../static/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
</head>
<body class="doc-page">
  <header class="navbar">
    <div class="navbar-inner">
      <a href="../../index.html" class="navbar-brand">BeisentDocs</a>
      <nav class="navbar-nav">
        <a href="https://github.com/beisent">GitHub</a>
      </nav>
      <div class="navbar-actions">
        <button id="sidebar-toggle" class="icon-btn" title="Toggle sidebar">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
        </button>
      </div>
    </div>
  </header>

  <div class="doc-layout">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-inner">
        <div class="nav-group"></div><details class="nav-section" open><summary class="nav-section-title">Computer</summary><div class="nav-section-content"><a href="../index.html" class="nav-link">计算机板块</a><details class="nav-section"><summary class="nav-section-title">C++</summary><div class="nav-section-content"><a href="../C++/index.html" class="nav-link">C++</a></div></details><details class="nav-section" open><summary class="nav-section-title">Rust</summary><div class="nav-section-content"><a href="基本语法.html" class="nav-link active">Rust 入门</a></div></details></div></details><details class="nav-section"><summary class="nav-section-title">Math</summary><div class="nav-section-content"><a href="../../Math/index.html" class="nav-link">数学板块  </a><details class="nav-section"><summary class="nav-section-title">Calculus</summary><div class="nav-section-content"><a href="../../Math/Calculus/index.html" class="nav-link">微积分</a></div></details><details class="nav-section"><summary class="nav-section-title">Linearalgebra</summary><div class="nav-section-content"><a href="../../Math/LinearAlgebra/index.html" class="nav-link">线性代数</a></div></details><details class="nav-section"><summary class="nav-section-title">Ode</summary><div class="nav-section-content"><a href="../../Math/ODE/index.html" class="nav-link">常微分方程</a></div></details></div></details><details class="nav-section"><summary class="nav-section-title">Physics</summary><div class="nav-section-content"><details class="nav-section"><summary class="nav-section-title">Classicalmechanics</summary><div class="nav-section-content"><a href="../../Physics/ClassicalMechanics/index.html" class="nav-link">理论力学</a><details class="nav-section"><summary class="nav-section-title">质点运动学</summary><div class="nav-section-content"><a href="../../Physics/ClassicalMechanics/质点运动学/index.html" class="nav-link">质点运动学</a></div></details></div></details></div></details>
      </div>
    </aside>

    <main class="doc-content">
      <nav class="breadcrumbs"><a href="../../index.html" class="breadcrumb-link">Home</a><span class="breadcrumb-sep">/</span><a href="../index.html" class="breadcrumb-link">Computer</a><span class="breadcrumb-sep">/</span><a href="index.html" class="breadcrumb-link">Rust</a><span class="breadcrumb-sep">/</span><span class="breadcrumb-current">Rust 入门</span></nav>
      <article class="prose">
        <h1 id="rust-入门"><a class="anchor" href="#rust-入门">#</a> Rust 入门</h1>
<h2 id="变量"><a class="anchor" href="#变量">#</a> 变量</h2>
<p>通过 let 在 rust 中变量默认是 <strong>不可变</strong> 的。如果要声明一个可变变量需要使用 mut 关键字</p>
<pre><code class="language-rust">fn main() {
    let name = &quot;Rust 萌新&quot;;
    
    let mut energy = 100;
    energy = 90;

    const MAX_LEVEL: u32 = 99;

    println!(&quot;玩家：{}, 体力: {}, 最高等级: {}&quot;, name, energy, MAX_LEVEL);
}</code></pre>
<h2 id="所有权"><a class="anchor" href="#所有权">#</a> 所有权</h2>
<p>所有权是 rust 中的核心概念。简单来说就是：一个堆区值在同一时间下只能由同一个"人"所有，当这个"人“离开作用域后，该值就会被丢弃。栈区会自动发生拷贝，而堆区的值会发生移动。</p>
<pre><code class="language-Rust">fn main() {
    let s1 = String::from(&quot;hello&quot;);
    
    // 将S tring::from(&quot;hello&quot;); 的所有权从 s1 转移至s2 
    let s2 = s1; 

    // println!(&quot;{}&quot;, s1); // 报错！因为 s1 的所有权已经给了 s2
    println!(&quot;{}&quot;, s2);   // 正常运行
}</code></pre>
<h2 id="引用与借用"><a class="anchor" href="#引用与借用">#</a> 引用与借用</h2>
<p>但如果我们每次传参都要移动所有权，那代码就太难写了。引用(或者叫借用)允许你使用值但不取得所有权。</p>
<p>引用有以下规则： 同时只能有一个可变引用<code>&mut T</code> 可以同时有多个不可变引用<code>&T</code></p>
<pre><code class="language-Rust">fn get_length(str: &amp;String) -&gt; usize{
    str.len()
}// 离开作用域后str不再指向s1的内存

fn main() {
   let s1 = String::from(&quot;hello&quot;);

   // 使用 &amp; 传递不可变引用
   let len = get_length(&amp;s1);

   println!(&quot;{} 的长度是 {}&quot;,s1,len);
}</code></pre>
<h2 id="控制流与模式匹配"><a class="anchor" href="#控制流与模式匹配">#</a> 控制流与模式匹配</h2>
<p>Rust 的 if 是表达式，而 match 是加强版的 switch</p>
<pre><code class="language-rust">
fn main() {
    let score = 85;

    let result = if score &gt;= 60 { &quot;及格&quot; } else { &quot;不及格&quot; };

    if score &gt;= 60 {
        println!(&quot;及格&quot;);
    } else {
        println!(&quot;加油&quot;);
    }
        match score {
        100 =&gt; println!(&quot;满分！&quot;),
        90..=99 =&gt; println!(&quot;优秀&quot;),// 90 &lt; score &lt;= 99
        60..=89 =&gt; println!(&quot;良好&quot;),// 60 &lt; score &lt;= 89
        _ =&gt; println!(&quot;还要努力哦&quot;), // _ 代表剩余所有情况
    }
}</code></pre>
<h2 id="结构体与方法"><a class="anchor" href="#结构体与方法">#</a> 结构体与方法</h2>
<p>Rust 不是传统的面向对象语言，他通过 struct 定义数据，通过 impl 定义行为。</p>
<pre><code class="language-rust">struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
	// &amp;self表示借用当前的实例
    fn area(&amp;self) -&gt; u32 {
        self.width * self.height
    }
}
fn main() {
    let rect = Rectangle {
        width: 30,
        height: 10,
    };
    println!(&quot;area: {} &quot;, rect.area());
}</code></pre>
<h2 id="枚举与option"><a class="anchor" href="#枚举与option">#</a> 枚举与Option</h2>
<p>Rust 没有 null。他使用Option枚举来处理可能不存在的值，强制你在编译阶段处理空值的情况。</p>
<pre><code class="language-Rust">fn divide(numerator: f64, denominator: f64) -&gt; Option&lt;f64&gt; {
    if denominator == 0.0 {
        None 
    } else {
        Some(numerator / denominator) 
    }
}

fn main() {
    let res = divide(10.0,2.0);
    match res {
        None =&gt; println!(&quot;除数不能为0&quot;),
        Some(value) =&gt; println!(&quot;结果为{}&quot;,value),
    }
}</code></pre>
<h2 id="trait"><a class="anchor" href="#trait">#</a> Trait</h2>
<p>Rust 不使用继承，而是使用 trait。他类似于其他语言的 interface,定义了某个类型必须实现的功能。</p>
<pre><code class="language-rust">pub trait Speak {
    fn say_hello(&amp;self) -&gt; String;
}

struct Dog;
struct Cat;

impl Speak for Dog {
    fn say_hello(&amp;self) -&gt; String { String::from(&quot;汪汪！&quot;) }
}

impl Speak for Cat {
    fn say_hello(&amp;self) -&gt; String { String::from(&quot;喵~&quot;) }
}

fn make_it_speak&lt;T: Speak&gt;(animal: T) {
    println!(&quot;{}&quot;, animal.say_hello());
}</code></pre>
      </article>
      <footer class="doc-footer">
        <p>&copy; 2025 Beisent Lab</p>
      </footer>
    </main>

    <aside class="toc-sidebar" id="toc-sidebar">
      <nav class="toc"><h4>On this page</h4><ul><li style="padding-left:0px"><a href="#rust-入门" class="toc-link" data-level="1">Rust 入门</a></li><li style="padding-left:12px"><a href="#变量" class="toc-link" data-level="2">变量</a></li><li style="padding-left:12px"><a href="#所有权" class="toc-link" data-level="2">所有权</a></li><li style="padding-left:12px"><a href="#引用与借用" class="toc-link" data-level="2">引用与借用</a></li><li style="padding-left:12px"><a href="#控制流与模式匹配" class="toc-link" data-level="2">控制流与模式匹配</a></li><li style="padding-left:12px"><a href="#结构体与方法" class="toc-link" data-level="2">结构体与方法</a></li><li style="padding-left:12px"><a href="#枚举与option" class="toc-link" data-level="2">枚举与Option</a></li><li style="padding-left:12px"><a href="#trait" class="toc-link" data-level="2">Trait</a></li></ul></nav>
    </aside>
  </div>

  <div class="sidebar-overlay" id="sidebar-overlay"></div>

  <script src="../../static/js/main.js"></script>
  <script>
    hljs.highlightAll();
    renderMathInElement(document.querySelector('.prose'), {
      delimiters: [
        {left: '$$', right: '$$', display: true},
        {left: '\\(', right: '\\)', display: false},
      ],
      throwOnError: false
    });
  </script>
</body>
</html>
